<%= turbo_frame_tag message do %>
  <%= tag.section data: {user: message.user.id,
                         'messages-target': 'message'} do %>
    <small><%= l message.created_at, format: :long %></small><br>
    <small><%= l message.updated_at, format: :long %></small>

    <p><%= message.body %></p>
    written by <%= message.user.name %>

<!--  Код ниже нам не подходит, посокльку он не позволяет идентифицировать пользователя, который создал сообщение. -->
<!--  Поэтому мы не можем показать кнопку редактирования только для тех сообщений, которые были созданы текущим пользователем.-->
  <%# if message.user == current_user %>
    <%#= link_to 'Edit', edit_message_path(message),-->
                class: 'btn btn-secondary', data: { turbo_method: :patch } %>
  <%# end %>

  <!-- В данном примере применем следующее решение через _message_frame.html.erb -->
    <div class="js-actions d-none">
      <%= link_to 'Edit', message_path(message),
                  class: 'btn btn-secondary', data: {turbo_method: :patch} %>
    </div>
  <% end %>
<% end %>
